<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Editar Pago</title>
  <style>
    body { font-family: "Segoe UI", Arial, sans-serif; background: #f8f9fa; margin: 30px; color: #333; }
    h2 { text-align: center; color: #000; margin-bottom: 20px; }
    form { background: #fff; padding: 25px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); max-width: 600px; margin: auto; display: flex; flex-direction: column; gap: 10px; }
    input, select { padding: 10px; border: 1px solid #ccc; border-radius: 8px; }
    button { background: #000; color: white; border: none; padding: 10px 14px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.3s; }
    button:hover { background: #222; }
    a.volver { display: block; text-align: center; margin-top: 25px; text-decoration: none; background: #000; color: white; padding: 8px 14px; border-radius: 8px; }
  </style>
</head>
<body>
  <%- include('partials/navbar') %>

  <h2>Editar Pago</h2>

  <form action="/pagos/editar/<%= pago.id %>" method="post">
    <label>Orden</label>
    <select name="orden_id" required>
      <% ordenes.forEach(o => { %>
        <option value="<%= o.id %>" <%= pago.orden_id === o.id ? 'selected' : '' %>>Orden #<%= o.id %></option>
      <% }) %>
    </select>

    <label>Monto</label>
    <input type="number" step="0.01" name="monto" value="<%= pago.monto %>" required>

    <label>Fecha de Pago</label>
    <input type="date" name="fecha_pago" value="<%= pago.fecha_pago.toISOString().split('T')[0] %>" required>

    <label>MÃ©todo de Pago</label>
    <select name="metodo_pago" required>
      <option value="tarjeta" <%= pago.metodo_pago === 'tarjeta' ? 'selected' : '' %>>Tarjeta</option>
      <option value="transferencia" <%= pago.metodo_pago === 'transferencia' ? 'selected' : '' %>>Transferencia</option>
      <option value="efectivo" <%= pago.metodo_pago === 'efectivo' ? 'selected' : '' %>>Efectivo</option>
    </select>

    <button type="submit">Actualizar</button>
  </form>

  <a href="/pagos/vista" class="volver">Volver</a>
</body>
</html>
